<html>
  <head>
    <style type="text/css">
    	
    </style>

  </head>
  <body>
    <div id='d3Id'></div>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript">
    	d3.json("https://raw.githubusercontent.com/tanyajoon/Visualization/master/csv.json",function (data)  {
                    data = data;
                    console.log(data)
            var container = d3.select('#d3Id'),
      		width = 10000,
      		height = 500,
      		margin = {top: 30, right: 20, bottom: 30, left: 50},
      		barPadding = .2,
      		axisTicks = {qty: 5, outerSize: 0, dateFormat: '%m-%d'};
			var svg = container
			     .append("svg")
			     .attr("width", width)
			     .attr("height", height)
			     .append("g")
			     .attr("transform", `translate(${margin.left},${margin.top})`);

			var xScale0 = d3.scaleBand().range([0, width - margin.left - margin.right]).padding(barPadding)
			var xScale1 = d3.scaleBand()
			var yScale = d3.scaleLinear().range([height - margin.top - margin.bottom, 0])
			var xAxis = d3.axisBottom(xScale0).tickSizeOuter(axisTicks.outerSize);
			var yAxis = d3.axisLeft(yScale).ticks(axisTicks.qty).tickSizeOuter(axisTicks.outerSize);

			xScale0.domain(data.map(d => d.Country))
			xScale1.domain(['HDI', 'Forest Land']).range([0, xScale0.bandwidth()])
			yScale.domain([0, d3.max(data, d => d.HDI > d["Forest Land"] ? d.HDI : d["Forest Land"])])

			var Country = svg.selectAll(".Country")
  			.data(data)
  			.enter().append("g")
  			.attr("class", "Country")
  			.attr("transform", d => `translate(${xScale0(d.Country)},0)`);

  			/* Add field1 bars */
			Country.selectAll(".bar.field1")
			  .data(d => [d])
			  .enter()
			  .append("rect")
			  .attr("class", "bar field1")
			  .style("fill","blue")
			  .attr("x", d => xScale1('HDI'))
			  .attr("y", d => yScale(d["HDI"]))
			  .attr("width", xScale1.bandwidth())
			  .attr("height", d => {
			    return height - margin.top - margin.bottom - yScale(d["HDI"])
			  });
			  
			/* Add field2 bars */
			Country.selectAll(".bar.field2")
			  .data(d => [d])
			  .enter()
			  .append("rect")
			  .attr("class", "bar field2")
			.style("fill","red")
			  .attr("x", d => xScale1('Forest Land'))
			  .attr("y", d => yScale(d["Forest Land"]))
			  .attr("width", xScale1.bandwidth())
			  .attr("height", d => {
			    return height - margin.top - margin.bottom - yScale(d["Forest Land"])
			  });

			  // Add the X Axis
			svg.append("g")
			     .attr("class", "x axis")
			     .attr("transform", `translate(0 , ${height - margin.top-margin.bottom})`)
			     .call(xAxis);
			// Add the Y Axis
			svg.append("g")
			     .attr("class", "y axis")
			     .call(yAxis);





        });
    </script>
</body>
</html>
